## One code to get all the quantities needed to compute the Jacobian and Hessian
background.function <- function(X, params, flag = "dir-hess"){
  #'@param X Data
  #'@param params add all relevant parameters - theta, mu, alpha, etc.
  #'@param flag - which quantity we are computing for - Dirichlet Jacobian/Hessian, DirMult Jacobian/Hessian
  #'
  # 
  # if (flag == "dir-jacobian"){
  #   Copy code for W, M, B, etc. from dir.jacobian()
  #   return(list(W,M,B,etc.))
  # } else if (flag == "dir-Hessian"){
  #   Copy code for W, M, B, etc. from dir.hessian()
  #   return(list(W,M,B,etc.))
  # } else if (flag == "dirmult-Hessian"){
  #   Copy code for W, M, B, etc. from dir.hessian()
  #   return(list(W,M,B,etc.))
  # } else if (flag == "dirmult-Hessian"){
  #   Copy code for W, M, B, etc. from dir.hessian()
  #   return(list(W,M,B,etc.))
  # } 
}